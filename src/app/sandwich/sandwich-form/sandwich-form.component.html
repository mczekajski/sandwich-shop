<h2>Sandwich Form</h2>

<form autocomplete="off" novalidate [formGroup]="sandwichForm">
  <section>
    <label>
      Name
      <input type="text" formControlName="name" />
    </label>
    {{ sandwichForm.get("name").errors | json }}
    <p *ngIf="sandwichForm.get('name').errors?.minlength"
      >Nazwa kanapki musi mieć co najmniej 3 znaki</p
    >
  </section>
  <section>
    <label>
      Ingredients
      <ul formGroupName="ingredients">
        <li *ngFor="let i of sandwichForm.get('ingredients').value | keyvalue">
          <input
            type="checkbox"
            [formControlName]="i.key"
            [value]="i.value"
          />{{ i.key }}
        </li>
      </ul>
    </label>
  </section>

  <section>
    <label>
      Sauce
      <select formControlName="sauce">
        <option *ngFor="let s of sauces" [value]="s.value">
          {{ s.label }}
        </option>
      </select>
    </label>
  </section>

  <section>
    <label>
      Vege
      <input type="radio" [value]="true" formControlName="vege" /> Yes
      <input type="radio" [value]="false" formControlName="vege" /> No
    </label>
  </section>

  <section>
    <label>
      Price
      <input type="number" formControlName="price" />
    </label>
    <p *ngIf="sandwichForm.get('price').errors?.min"
      >Cena kanapki nie może być niższa od 0!</p
    >
    <p *ngIf="sandwichForm.get('price').errors?.max"
      >Cena kanapki nie może być wyższa od 20!</p
    >
  </section>

  <section>
    <button type="button" (click)="save()">Save</button>
  </section>
</form>
